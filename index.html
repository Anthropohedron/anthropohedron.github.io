<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD>
<TITLE>Cards Dev</TITLE>
<link rel="stylesheet" type="text/css" href="cards.css">
<link rel="stylesheet" type="text/css" href="smallcards.css">
<link rel="stylesheet" type="text/css" href="largecards.css">
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="/pngHack/pngHack.css">
<![endif]-->
<script language="javascript" type="text/javascript"
	src="combined.js"></script>
<script language="javascript" type="text/javascript"
	src="javascript/seahaven.js"></script>
<script language="javascript" type="text/javascript"
	src="javascript/klondike.js"></script>
<script language="javascript" type="text/javascript">

var game = null;
var dealing = null;

function chooseSize(size) {
  document.body.className = size;
  if (game) game.reposition();
  document.cookie = "preferredSize="+size;
}

function getPreferredSize() {
  var dc = document.cookie;
  var prefix = "preferredSize=";
  var begin = dc.indexOf("; " + prefix);
  if (begin == -1) {
    begin = dc.indexOf(prefix);
    if (begin != 0) return "LARGE";
  } else
    begin += 2;
  var end = document.cookie.indexOf(";", begin);
  if (end == -1)
    end = dc.length;
  return unescape(dc.substring(begin + prefix.length, end));
}

function selectGame(options) {
  var i;
  for (i=0;i<options.length;++i) {
    if (options[i].value=="none") {
      options[i--] = null;
    } else if (options[i].selected) {
      if (game) game.deactivate();
      if (options[i].game==null) {
	eval('game = new '+options[i].value+'(10, 110);');
        options[i].game = game;
      } else {
        game = options[i].game;
      }
      game.activate();
      document.links[0].hash = options[i].value;
      return;
    }
  }
}

function deal() {
  if (game) {
    dealing.style.visibility = "visible";
    setTimeout('game.deal(); dealing.style.visibility = "hidden";', 100);
  }
}

function initOnLoad() {
  chooseSize(getPreferredSize());
  dealing = document.getElementById("dealing");
}

</script>
</HEAD><BODY bgcolor="#CCCCCC" class="LARGE" onLoad="initOnLoad();">

<form action="#" name="form0" method="get">
<select onChange="selectGame(document.forms[0].elements[0].options)">
<option value="none" SELECTED>select a game
<option value="seahaven">Seahaven Towers
<!--
<option value="klondike">Klondike
-->
</select>
<input type="button" value="Deal" onClick="deal();">
<input type="button" value="Undo" onClick="game.undo();">
<input type="button" value="Redo" onClick="game.redo();">
<a href="http://www.allgoodsw.com/sol_rules.html" TARGET="rules">rules</a><br>
<input type="radio" name="cardSize" value="LARGE"
onClick="chooseSize('LARGE');">large cards
<input type="radio" name="cardSize" value="SMALL"
onClick="chooseSize('SMALL');">small cards
</form>
<span id="dealing" style="color:red; visibility:hidden;">Dealing...</span>

</BODY></HTML>
